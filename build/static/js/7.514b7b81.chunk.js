(this.webpackJsonpdeghauzimicrolending=this.webpackJsonpdeghauzimicrolending||[]).push([[7],{1087:function(e,t,a){"use strict";a.r(t);var n=a(28),c=a.n(n),r=a(48),s=a(120),l=a(12),i=a(75),o=a(2),u=a(55),d=a(63),b=a(9),j=a(27),m=a(1090),p=a(1088),h=a(1089),f=a(1055),x=a(269),O=a(6),_=a(1075);t.default=function(e){var t=e.history,a=Object(j.c)(),n=Object(j.d)((function(e){return e.commonReducer})),g=Object(j.d)((function(e){return e.contributionReducer})),q=g.mainAccount,N=g.bonusAccount,v=n.loading,w=Object(o.useState)({request_expected_date:"",request_reasons:"",request_amount:"",request_from_account:""}),y=Object(i.a)(w,2),k=y[0],C=y[1],I=function(e){var t=e.target.value,a=e.target.name;C((function(e){return Object(l.a)(Object(l.a)({},e),{},Object(s.a)({},a,t))}))},S=function(){var e=Object(r.a)(c.a.mark((function e(){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a(Object(d.c)()),e.prev=1,e.next=4,u.a.post("request/withdrawal",Object(l.a)({},k));case 4:e.sent,a({type:b.F,payload:"Request Submitted"}),a(Object(d.b)()),e.next=14;break;case 9:e.prev=9,e.t0=e.catch(1),a({type:b.g}),a({type:b.D,payload:"Check all field"}),a(Object(d.b)());case 14:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(){return e.apply(this,arguments)}}(),R="Main"===k.request_from_account&&parseInt(k.request_amount)>parseInt(q[0].bank_account_balance),A="Wallet"===k.request_from_account&&parseInt(k.request_amount)>parseInt(N[0].wallet_balance),F=Object(o.useState)(0),z=Object(i.a)(F,2),M=z[0],W=z[1],B=["Reason","Amount","Date"],D=function(){return Object(O.jsxs)("fieldset",{children:[Object(O.jsx)("h2",{className:"fs-title text-uppercase font-weight-bold",children:"Reason For Withdrawal"}),Object(O.jsx)("input",{type:"textarea",className:"input-textarea",name:"request_reasons",placeholder:"breif reasons for withdrawal",onChange:I})]})},J=function(){return Object(O.jsxs)("fieldset",{children:[Object(O.jsx)("h2",{className:"fs-title mt-4 text-uppercase font-weight-bold",children:"Request Expected Date"}),Object(O.jsx)("input",{onChange:I,type:"date",name:"request_expected_date",className:"input-date"})]})},E=function(){return Object(O.jsxs)("fieldset",{children:[Object(O.jsxs)("select",{name:"request_from_account",className:"input-textarea",onChange:I,children:[Object(O.jsx)("option",{children:"Select Account"}),Object(O.jsx)("option",{value:"Main",children:"Main"}),Object(O.jsx)("option",{value:"Wallet",children:"Wallet"})]}),Object(O.jsx)("h2",{className:"fs-title text-uppercase font-weight-bold",children:"Amount"}),Object(O.jsx)("input",{type:"text",className:"input-text",placeholder:"amount needed?",name:"request_amount",onChange:I}),R?Object(O.jsxs)("p",{className:"text-danger",children:["amount can't be greater than balance: \u20a6",_(q[0].bank_account_balance).format("0,0")]}):A?Object(O.jsxs)("p",{className:"text-danger",children:["amount can't be greater than balance: \u20a6",_(N[0].wallet_balance).format("0,0")]}):null]})},L=function(){W((function(e){return e-1}))};return Object(O.jsx)(O.Fragment,{children:Object(O.jsx)("div",{className:"d-flex mt-5 justify-content-center",children:Object(O.jsx)("form",{onSubmit:S,className:"fundforms_container",children:Object(O.jsxs)("div",{children:[Object(O.jsx)(m.a,{activeStep:M,alternativeLabel:!0,className:"horizontal-stepper-linear",children:B.map((function(e,t){return Object(O.jsx)(p.a,{className:"horizontal-stepper ".concat(t===M?"active":""),children:Object(O.jsx)(h.a,{className:"stepperlabel",children:e})},e)}))}),Object(O.jsx)("div",{children:M!==B.length?Object(O.jsxs)("div",{children:[function(e){switch(e){case 0:return D();case 1:return E();case 2:return J();default:return"Uknown stepIndex"}}(M),Object(O.jsxs)("div",{className:"mt-4",children:[0!==M&&Object(O.jsx)(f.a,{disabled:0===M,onClick:L,className:"mr-2 float-left",color:"primary",children:"Back"}),Object(O.jsx)(f.a,{className:"mr-2 float-left",color:"primary",onClick:function(){return t.push("/")},children:"Cancel"}),Object(O.jsx)(f.a,{className:"mr-2 float-right",variant:"contained",color:"primary",onClick:function(){W((function(e){return e+1}))},disabled:parseInt(k.request_amount)>parseInt(q[0].bank_account_balance)||parseInt(k.request_amount)>parseInt(N[0].wallet_balance),children:M===B.length-1?"Finish":"Next"})]})]}):Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)(f.a,{disabled:0===M,onClick:L,className:"mr-2 float-left",color:"primary",children:"Back"}),Object(O.jsx)(f.a,{type:"submit",name:"submit",className:"MuiButton-containedPrimary",disabled:""===k.request_amount||""===k.request_expected_date||""===k.request_from_account||""===k.request_reasons,onClick:function(){setTimeout((function(){W(0)}),5e3)},children:v?Object(O.jsx)(x.a,{}):"Submit"})]})})]})})})})}}}]);
//# sourceMappingURL=7.514b7b81.chunk.js.map